Agent Changes / Reviews

code/code.md:50:5:     Trailing whitespace
code/code.txt:7:8:     delete trailing whitespace
code/code.txt:58:2:    trailing
code/code.txt:100:2:   trailing whitespace
code/code.txt:173:32:  tidy - check files for leading/trailing whitespace at ends of file
code/style2.txt:9:2:   trailing
code/style2.txt:39:34: // comments for single line, or trailing
code/style2.txt:67:2:  trailing punctuation
translate.txt:147:7:   have trailing whitespace -- nuisance for the translator
travis.txt:10:8:       tabs, trailing whitespace

ARRAYs?
attach/attach.h:          FILE **fp_idx;
attach/attach.h:          struct AttachPtr **idx;
attach/attach.h:          struct Body **body_idx;
browser/private_data.h:   char ***files;
complete/data.h:          const char **match_list;
config/mbtable.h:         char **chars;
core/mailbox.h:           struct Email **emails;
core/neomutt.h:           char **env;
email/email.h:            struct Email **emails;
gui/curs_lib.h:           char ***files;
mutt/charset.h:           const char **inrepls;
mutt/hash.h:              struct HashElem **table;
nntp/adata.h:             struct NntpMboxData **groups_list;

certificates
	add relatives to timestamps (X ago, for Y)
	This certificate is valid
	   from Thu, 26 Dec 2024 09:01:01 UTC (x weeks ago)
	     to Wed, 26 Mar 2025 09:01:00 UTC (for y months)
	means lots more translations!
	also key selection

Find more Linked List Nodes, to replace with ARRAY, e.g.
Nodes
	address/group.h:53:2:    STAILQ_HEAD(GroupList,       GroupNode);
	mutt/list.h:41:2:        STAILQ_HEAD(ListHead,        ListNode);
	mutt/observer.h:74:2:    STAILQ_HEAD(ObserverList,    ObserverNode);
	mutt/regex3.h:100:2:     STAILQ_HEAD(RegexList,       RegexNode);
Others
	address/address.h:43:1:   TAILQ_HEAD(AddressList,     Address);
	alias/alias.h:42:1:       TAILQ_HEAD(AliasList,       Alias);
	attach/cid.h:41:2:       STAILQ_HEAD(CidMapList,      CidMap);
	color/attr.h:74:1:        TAILQ_HEAD(AttrColorList,   AttrColor);
	color/curses2.h:48:1:     TAILQ_HEAD(CursesColorList, CursesColor);
	color/regex4.h:47:2:     STAILQ_HEAD(RegexColorList,  RegexColor);
	email/parameter.h:38:1:   TAILQ_HEAD(ParameterList,   Parameter);
	email/tags.h:48:2:       STAILQ_HEAD(TagList,         Tag);
	email/url.h:63:2:        STAILQ_HEAD(UrlQueryList,    UrlQuery);
	gui/mutt_window.h:105:1:  TAILQ_HEAD(MuttWindowList,  MuttWindow);
	hook.c:76:1:              TAILQ_HEAD(HookList,        Hook);
	key/lib.h:76:2:          STAILQ_HEAD(KeymapList,      Keymap);
	mutt/charset.c:80:1:      TAILQ_HEAD(LookupList,      Lookup);
	mutt/logging2.h:88:2:    STAILQ_HEAD(LogLineList,     LogLine);
	mutt/regex3.h:112:2:     STAILQ_HEAD(ReplaceList,     Replace);
	ncrypt/crypt_mod.c:45:2: STAILQ_HEAD(CryptModuleList, CryptModule);

.github README
	welcome

rename *_buffer_*() functions to buf, or strip buffer entirely
char[] -> Buffer conversions
	which?

upstream patches

split up send() to accommodate bg_edit

compose: move Body wrapping into compose

update translations as fuzzy

compose: small fns #3222
	<move-to-top>
		simple within a group
		what does it do at the top level?
		altering the first attachment might have consequences
	<move-to-bottom>
		acting on the first attachment might have consequences
	<move-out-of-group>
		moves attached file *after* the group it was in
	<move-into-group>
		moves attached file into the group *above* it

kill the num_accounts and return the value
int mutt_autocrypt_db_account_get_all(struct AutocryptAccount ***accounts, int *num_accounts)

add X_new()/X_free() wrappers for non-trivial objects
	QClass, ListNode
	SmimeKey, PgpUid, MuttThread

free: see neo/[triv/free]

objects must have X_new()/X_free() pair, or neither
	check existing
	51 X_new()
	55 X_free()
	148 struct
	292 [cm]alloc
	find/distinguish between
		struct - simple, data
		object - complex, actions
	data still needs free for ptrs
	too simplistic?

github action
	check for @file header, etc
	*.c need config.h
	*.h need include guard
	check for empty line at eof
	*.c @page
	"calc" undoc'd functions
	shellcheck

eliminate fallthroughs - use functions

why are these 3 charset config not using DT_SLIST?
	they're only allowed *ONE* charset
	mutt_config.c:431:6:  { "charset",            DT_STRING|D_NOT_EMPTY|D_CHARSET_SINGLE, 0,          0, charset_validator,
	mutt_config.c:443:13: { "config_charset",     DT_STRING,                              0,          0, charset_validator,
	nntp/config.c:67:17:  { "newsgroups_charset", DT_STRING,                              IP "utf-8", 0, charset_validator,

change reset_tilde to just search all config
	to save keeping list up-to-date

bash completion for neomutt, based on: /usr/share/bash-completion/completions/mutt
	âˆ€ cli options
	for aliases too?

update bash complete for configure
	push to management
	dev ml

fuzzy matcher

change Score list to use STAILQ

relative time option for the index_format
	3h (ago), 2d, etc

where is punycode encoded/decoded?
	extract to lib and test

need neomutt glossary (search first)
	add to guide

add more auto-completion

security warnings
	27 For loop variable changed in body
	26 Poorly documented large function
	21 Local variable address stored in non-local memory
	 9 Year field changed using an arithmetic operation without checking for leap year
	 8 Long switch case
	 5 Uncontrolled data used in path expression
	 3 Nested loops with same variable
	 3 Futile conditional
	 2 Time-of-check time-of-use filesystem race condition
	 2 File created without restricting permissions
	 2 Cleartext transmission of sensitive information
	 1 Uncontrolled process operation

turn MoreArgs, MoreArgsF into ONE function and write tests for it

merge string/Buffer variants of functions
	(find them all first)

