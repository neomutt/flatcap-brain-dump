comment to avoid warning
/* coverity[check_return] */
/* coverity[suspicious_sizeof] */

https://github.com/autozimu/LanguageClient-neovim
https://people.freebsd.org/~gahr/lc.vim

parse_tags_transformed - Parse a custom expando of the form, "%G?" where '?' is an alphabetic character.
  	test '?' is [A-Za-z]?

quick guides to
	format strings
	tagging
	alias labels
		document and asciinema alias tags:

doc tags in alias, mail to user ml
	add to dyk

good first issue?
	add tag-pattern to the browser -- useful for compose-attach
		if multi-selection is allowed

attach refactor
	libattach
	dlg(view)attach
	pass attach list to functions
		(c.f. tagged emails)

"Out of memory" translation still used?!

note alx: ptr vs pptr

apply colour to a column
	find the index_format node when the `color` command is used
	or when $index_format is set
what about row colours?

extend
	`color header green default '^Subject'`
	to allow partial matches, like status color does
	e.g.
		color header green default '^Subject: (.*)' 1
	match the text of the subject only

$attach_status to configure the AttachBar
	default to "Attachments" ?
	or "Attachments: %n"
	what else could we display?
	cumulative size?
	allow *email* expandos, e.g. To: %t, Subject: %s!

Is this ever true?
	_fmt(OP_SEARCH, N_("search for a regular expression")) \
	or are we always searching for a *pattern*?

for the Menu,
	where is the "deleted" colour?
	where is the dedicated "tagged" colour?
	color index fg bg "~T" !
	create colour "links" first

coverage core (simple)
	command
	config_cache
	neomutt
	much of mailbox

Menu: rename line to row?
	int (*make_entry)(struct Menu *menu, int line, int max_cols, struct Buffer *buf);
	need to fix Menu.search() too

roccoblues
	when you look in buffer.h you'll notice that most of the time str in the name
	signifies a char * but not always. buf_addstr vs. buf_insert. Or buf_startswith
	should be buf_startswith_str because we could also have a buf_startwith(Buffer, Buffer)?

bare mode cf weechat
	wrapping, markers '+', scrollbar
	all interfere with copy'n'paste and urls
	<bare-mode> drop into basic pager -- endwin()
		bind to Ctrl-B
	don't wrap, just dump email to screen
	let terminal do page up / down
	optionally use ansi sequences for urls?
		probably not necessary
	'q' <quit> to exit
	eliminates need for urlview / urlscan
	why not use <pipe-message>cat<enter> ?

unify Address Groups and Alias Tags
	then group patterns match tags
	%c GROUP   messages carbon-copied to any member of GROUP
	%C GROUP   messages either to:, cc: or bcc: to any member of GROUP
	%e GROUP   messages which contain a member of GROUP in the 'Sender' field
	%f GROUP   messages originating from any member of GROUP
	%L GROUP   message either originated or received by any member of GROUP
group commands
	alias        [ -group name ...] key address [ , address ...]
	unalias      [ -group name ...] { * | key ... }
	-------------
	alternates   [ -group name ...] regex [ regex ...]
	unalternates [ -group name ...] { * | regex ... }
	-------------
	group        [ -group name ...] {     -rx regex ... | -addr address ... }
	ungroup      [ -group name ...] { * | -rx regex ... | -addr address ... }
	-------------
	lists        [ -group name ...]       regex [ regex ...]
	unlists      [ -group name ...] { * | regex ... }
	-------------
	subscribe    [ -group name ...]       regex [ regex ...]
	unsubscribe  [ -group name ...] { * | regex ... }
add syntax: <mail>@group to send to entire group?

tests: check which dummy() {} functions are still needed

docs/config
	urls aren't linkified https://...

translations
	need printf format ordering doc
	msgid "Option %s has an invalid type %d"
	msgstr "Le type %2$d de l'option %1$s est invalide"

split colours?
	common enum of domains: MT_INDEX, MT_ALIAS, ...
	private set of colours MT_IND_SUBJECT
	cf ExpandoDomain
	separate `struct RegexColorList IndexList`
	probably means init() and cleanup() functions for each library
	what about parsing?

compose: attach lots of files
	select last attachment
	step-shrink the terminal so selection isn't visible
	selection isn't visible!

docs for expando architecture

dialogs 21 * Local variable address stored in non-local memory
	refactor callers
	dynamically allocate data
	delegate ownership to menu?
		probably doesn't make sense for menu to own it

quoted colours not merged correctly
	color quoted default red
	color body green default .
quoted text should be green red

replicate LOCALES_HACK in the tests
	if nobody complains, deprecate the configure option

merge (almost identical)
	struct Regex *regex_new(const char *str, uint32_t flags, struct Buffer *err)
	struct Regex *mutt_regex_new(const char *str, uint32_t flags, struct Buffer *err)

use to disable emojis?
	set ascii_chars = no
from irc
	dmrz	is there a way to just turn of display off emoji in neomutt?
	dmrz	emoji are displaying wrong for me, and i suspect fixing this would be somewhat complicated, so i'll like to just turn them off
	dmrz	("displaying wrong" = covering multiple terminal lines)
	turned out to be a font problem

bisect
	notmuch backend altering headers!
	adding mbox-style "Status: O" and "Tags: inbox"

update gfx repo compose screenshots/etc with preview window
	check docs/website/etc

flatcap/vim-cpp -> neomutt/vim-neomutt-source ?

MT_COLOR_CONCEAL "conceal" -- not just invisible, not _there_
	could use for signatures, headers (weeding), toggle-quoted, etc
	does conceal '.*' leave a blank line?
		probably, should kill the line
	alternatively, leave blank line, but squash multiple concealed lines
	set conceal_level = [0123]
	toggle conceal_level
		to toggle visibility
	set conceal_char = 'â€ '
		cf vim
	set line default colour to CONCEAL?
		but then we lose the colour for when it's not hidden
		have a line-level bool for conceal?

idea from irc:
	index_format expando for the alias short-name
		alias bob "Robert Smith <rs@example.com>"
	gives "bob" in the index
	how?
		need HashTable of alias short names
variant
	apply colours to address lists (e.g. Index, Compose, etc)
	based on patterns, e.g. "in-address-book", "in-address-group-X"

not true, mutt/file.c
	/* This is defined in POSIX:2008 which isn't a build requirement */
	#ifndef O_NOFOLLOW
	#define O_NOFOLLOW 0
	#endif

colour notifications
	might want more distinction for RegexColors
	*which* RegexColor was added / removed
	e.g. { MT_COLOR_BODY, REGEX_ADDED, "http://..." }
		or index into RegexColorList / Array

change the discussion issue template to redirect users to the discussions area

`neomutt -vv` recalc top ten contributors
	(and record the method by which I calc'd it)

syntax highlighting plugin for the Pager
	define rules
	line-matching (equivalent to `color body fg bg pattern`)
	begin-end rules, e.g. signature
rule signature
	apply-to: folder [pattern]  OR  email [pattern]
		folder pattern => folder-hook
		email pattern => message-hook?
	begin-pattern: '^-- $'
	end-pattern:   '^$'
	max-lines: 4
	color: fg bg
	conceal: yes

create "limit" rules for concealing emails?
	muting conversations?

close other repo discussions
closed, locked, pinned issue:
enhancement/idea link / template -> discussions
	"ðŸ›Ÿ I Need Help", "ðŸ’¡ I Have Ideas" "â™¥ï¸ I Want to Help"
pinned issues
	I need help - how to ask for help, how to write a good issue
	I want to help - how to join us
	I want to thank you - star, donate, help, "thanks" -> irc
	link to Discussions

certificates add relatives to timestamps (X ago, for Y)
	see agent.txt

README.md
	warning/note/information/tip blocks!
	> [!NOTE]
	> markdown text
	> [!TIP]
	> [!IMPORTANT]
	> [!WARNING]
	[!note] [!warning] [!tip] [!caution] [!important]
installation
	## Installation
	[![Packaging status](https://repology.org/badge/vertical-allrepos/bat-cat.svg?columns=3&exclude_unsupported=1)](https://repology.org/project/bat-cat/versions)
	https://repology.org/badge/vertical-allrepos/neomutt.svg?columns=3&exclude_unsupported=1

searching the index with `~i REGEX` matching message ids is problematic
	they often contain regex special characters
	alter the docs to make this clear
add a new syntax to the `~i` pattern...
	`~i TEXT`   -- text is regex
	`~i <TEXT>` -- text is literal

Commits as of 2026-01-01
	Year	Mutt	NeoMutt
	2016	 316	    788
	2017	 272	   1615
	2018	 348	   1873
	2019	 419	   1752
	2020	 406	   1070
	2021	 261	   1114
	2022	 130	    714		Feb, Kevin steps back
	2023	  20	   1124
	2024	  10	    603
	2025	  21	    360
	      -------    -------
Total		2203	  11013
		 181	   2801		Post Kevin

drop 'i' (index?) binding for <quit>/<exit> for pager
	non-intuitive
in help use 'q' <quit> where data is read-only, e.g. info pages
	accept 'x' <exit> also
elsewhere
	'q' <quit> => save and exit
	'x' <exit> => exit without saving

get neomutt on every available "awesome" list
	https://www.linuxlinks.com/best-free-open-source-console-email-clients/
	after, list the lists on neomutt.org

~/.config/neomutt/theme.rc
	file or symlink

how to end-to-end test the autocrypt functions?
	discussion

test build with ubsan
	weekly github action

Config system
	reduce all error messages to error codes
	there're a finite number of ways the config system can fail
	possible for the 'generic' failures, "Option %s may not be negative"
	but setting a regex or expando can return custom errors

expando long-text -- review
	esp, "flags2" !
	need docs -- how?

colour - what happens if you set both (simple/palette) and truecolor?
	we want to share both; if $color_directcolor is set then use
	truecolor, else use (simple/palette)
	avoids the need for multiple theme files
	AttrColor needs link to other AttrColors
		need refcounting
		or be able to survive the *linked* object disappearing
	Use linked colours to support truecolor -> simple fallbacks

SimpleBar / ExpandoBar
	are they compatible?
	can they be merged?

weekly build action with
	-D_FORTIFY_SOURCE=1 or 2
	24 * warning: dereferencing type-punned pointer might break strict-aliasing rules
	e.g. mutt/list.c:153:18:

air (on irc)
	#define SUPPRESS_UNUSED_WARNING(v) (void)v;
	#define SUPPRESS_UNUSED_RESULT_WARNING(fn_call) do{if(fn_call){/*warn_unused_result*/}}while(0)

find clean/dirty strwidth() / wcwidth() uses

release: commit count
	in folded section?

fold lines that don't match the search pattern
	:set foldenable foldmethod=expr foldminlines=0 foldexpr=getline(v:lnum)!~@/

expando for a divider character
	if ($ascii_chars = yes), then use ascii | pipe
	otherwise use unicode â”‚ vertical bar
	what char? %| is already used for eol-padding
		eol-padding isn't needed, %*X or %>* will do
	better that raw | char, because it can be coloured
		color sidebar_divider -> divider

colour setting
	if rgb but not truecolor => error, unless...
	if colour is already set, don't error, but log
	then, theme can contain multiple settings
	where the last viable setting wins
e.g. same object, but increasing colour depth
	color object red      green
	color object color123 color   214
	color object #aabbcc  #112233
increasing subtlety!

filter synonyms and deprecated out of get_elem_list()
	so that the callers don't have to

test CLI params of "" (which mutt_strdup() will turn into NULL)

pass Keymaps to km_init() and all children?
	where else is it used?

weechat logs to private repo
	new org/user: flatcap-neomutt
	daily auto-commit

nntp feature request
	Currently, neomutt downloads newsgroup descriptions from the server only. Would
	there be a chance these descriptions could be saved to a file? This could then
	be used to display descriptions sent by the server (and stored locally) OR not
	sent by the server, in case one wanted to add their own descriptions or even
	change the current ones.
	For example, slrn, by default, adds the descriptions to a .jnewsrc.dsc file
	(basically whatever you name the newsrc file, with a '.dsc' extension and
	resides in the same directory you configure for your .jnewsrc file), in this
	format: <newsgroup>:<description>
	tin, by default, uses a file called 'newsgroups' in the account folder, which
	uses this format: <newsgroup><space><description>

repaint()
	fprintf(stderr, "\033[s\033[9;24H\033[1;48;2;0;96;96m\033]8;id=1;https://neomutt.org/guide/reference#alias-file\007alias_\033]8;;\007\033[0m\033[u");
	fprintf(stderr, "\033[s\033[15;24H\033[1;48;2;0;96;96m\033]8;id=1;https://neomutt.org/guide/reference#alias-file\007file\033]8;;\007\033[0m\033[u");

sort out
	z-sort (271)
	bin (176)

extract data from
	site repo branches

jindraj: gmail login, app passwords
	The option to generate app passwords is hidden until 2FA is enabled.

dynamic help bar
	irc: Bombo
	maybe like the 'bind/macro index ...' index,show_in_help or as last arg, 'bind compose <insert> attach-file show_in_help_line'
show_in_help flag should apply to all menus mentioned
we'd have to add a flag to the key bindings,
change the hard-coded bindings to use the flag
should we add to the end of the list, risking not being visible
or the beginning of the list risking other useful stuff getting lost?
unbind would clear the flag
	this would allow user to clear all the help and create their own
	unbind help; rebind help (no flag)

mutt_debug(LL_DEBUG1, "FILE:%d, offset %ld, bytes_read %ld\n", fileno(fp), offset, *bytes_read);

irc suggestion: re learning curve
	personally what would make it less steep would be a "primer HOWTO" with things like
	"How do I compose and send an email?"
	"How do I browse folders?"
	"How do I search in a folder/ in all folders?" and so on
	basically a new user will want to (at least): read incoming email, mark
	them as read/unread, move them to folders (or tag if using notmuch),
	list (index) | directories compose a new message and send it

color toggle object [pattern]
	temporarily change the visibility of a colour
	idea: temporarily highlight some part of the text

pager markers broken (may be very historic)
	https://gist.github.com/gahr/557a2e7fda9309a22e4656aa1d417ba4
	bisect, check mutt

<toggle-quoted> doesn't honour $toggle_quoted_show_levels correctly
if there are two distinct quoting styles
set toggle_quoted_show_levels = 2 only shows the first style
i.e. `>` and `> >` but not `|` and `| |`
	> 58 104 105 157 127 40 173
	> > 87 1 50 92 44 16 195 33
	> > > 177 156 31 187 29 65
	4 79 150 45 118 113 9 180
	| 46 162 13 14 158 183 81
	| | 193 75 122 68 21 174
	| | | 197 199 66 126 83 7

upstream check/merge

browser tabs?
	implement tabbed-help-page first

terminal window focus in/out https://unix.stackexchange.com/a/480138

upstream: 0e32b9774
	map to change-folder (DlgBrowser)
	index/pager
	{ "browse-mailboxes",          OP_MAIN_BROWSE_MAILBOXES,          "y" },
	{ "browse-mailboxes-readonly", OP_MAIN_BROWSE_MAILBOXES_READONLY, NULL },

irc: jxl: is there a way to list the flags currently set for the message under the cursor? something in the same vein as the what-key function?

irc: rkta: I really would like mutt to warn me when I reply to an email and already have a draft which is a reply to the same message id.

dynamically change format strings
	need generic format string editor
	cf htop config

history: which constants are used in the history file?
	MENU_INDEX enum?

browser option to scan subdirs for {cur,new,tmp}
	so that they can be highlighted as mailboxes
	already done, just no feedback to user
	icon command

idea
	macro index,pager d "<clear-flag>n<clear-flag>o<clear-flag>f<delete-message>"
	NOPE each <clear-flag> moves focus
	macro index,pager d "<enter-command>set resolve=no<enter><clear-flag>n<clear-flag>o<clear-flag>!<enter-command>set resolve=yes<enter><delete-message>"
	how could you "checkpoint" config?
	<create-checkpoint>alter config; do stuff<restore-checkpoint>

use r.h.s of help-bar to display tabs of backgrounded compose sessions

drop mono command from the docs
	examples, etc
	sample themes are tricky

Naming of ARRAYs?
	ARRAY_HEAD(AppleArray,   struct Apple);      /// Array of objects
	ARRAY_HEAD(BananaPArray, struct Banana *);   /// Array of pointers

doxy:
	https://neomutt.org/code/annotated.html		some missing descriptions for structs

madduck, irc 2025-10-30
	space actually works. I can enter it, but once I entered it, there is no more tab completion at all. this is what confused me.
	Take /srv/with space/foo
	if I hit /srv/w<tab>, I am left at "/srv/with". If I enter "/srv/with <tab>", nothing happens, I am not offered the interactive browser either.
	if I hit /srv/w<tab><tab>, I am shown the browser and I can now navigate to "/srv/with space/foo" just fine, â€¦ but then what?
	The browser is now in the right directory, but the prompt down below still shows "/srv/with" and if I exit the browser with 'q', that is where I am left.
	There seems to be no way to "transfer" the browser location to the command prompt, which is sort of what I would expect. Why else the browser?
In Mutt "abc def/<tab><tab>" opens the browser

ampcode.com
	The codepath that triggers the deadlock/hang in NeoMutt is as follows:
	Periodic Mail Check: Every timeout seconds (10 in the issue), mx_mbox_check() is called from dlg_index() to check for new mail.
	IMAP Check: For IMAP mailboxes, this calls imap_check_mailbox(), which sends a NOOP command to poll for changes. If new mail is detected, it sets the
	status to MX_STATUS_NEW_MAIL.
	Index Update: Upon detecting new mail, update_index() is called, which updates the mailbox's email list and calls menu_queue_redraw() to redraw the index.
	Index Redraw: During redraw, index_color() is called for each visible email to determine its color.
	Color Evaluation: index_color() calls email_set_color(), which evaluates regex color patterns like color index brightred default '~h "^(To|Cc):.*,"'.
	Pattern Matching: mutt_pattern_exec() checks if the pattern matches. For header patterns with regex on IMAP, pattern_needs_msg() returns true.
	Message Fetch: mx_msg_open() is called to open the message. For IMAP with imap_peek=no, this fetches the full message body via BODY[], not just headers.
	Hang: Fetching large message bodies causes the UI to freeze on "Fetching message..." until the fetch completes, effectively deadlocking the interface.

AI Usage
	Create Label for PRs
	How to Credit AI?
	Fedora suggests using a commit trailer such as "Assisted-by: <AI tool name>" to make that clear in project history

archive/delete lots of repos
	neomutt-old organization?
	all repos are hidden to prevent google indexing them

themes
	https://sphinx-themes.org/
	https://jothepro.github.io/doxygen-awesome-css/

.github README
	welcome

modernise all the sample configs
	underscore config names, etc
	# vim: syn=neomuttrc

Find more Linked List Nodes, to replace with ARRAY, e.g.
	see agent.txt

if "theme" (GUI) is separate config file, "keys"/"bindings" should be too
if theme config file is present, ignore /etc/neomuttrc colours? HOW
	=> good clean slate
	don't set default colours either?
	means checking for existence of *user* config before reading *system* config

keybindings for Editor (OpEditor)
	OP_EDITOR_MAILBOX_CYCLE needs splitting out
		how does that work with bindings?
		or can it return FR_UNKNOWN if there's no Mailbox
	only used when we're in the index
	OP_EDITOR_COMPLETE/OP_EDITOR_COMPLETE_QUERY
	OP_EDITOR_HISTORY_*?  is history *always* available?
	OP_HELP/OP_REDRAW? always available?

$my_unset_var resolves to literal "$my_unset_var"
	unset my_vars should expand to an empty string

reorg /neo/github /github mail folders

github action to keep gitlab/etc in sync

<tag-toggle> or <tag-invert> -- invert selection
	trivial to implement in lua!

auto-completion
	find every point of text entry
	determine what completion might be possible
	implement it

! <shell-escape>  allow Ctrl-D to cancel the prompt?
	Ctrl-G already works

help.c kill #include "protos.h"

irc/mgedmin
	(after doing a <tag-prefix><save-message>)
	it would make sense to move to the next undeleted if the current line is on one of the tagged emails that just got saved and deleted

irc/madduck/mgedmin
	browser dir selection doesn't work
	<generic-select-entry> and <descend-directory> are messed up

browser: default folder_format="%2C %t %N %F %2l %-8.8u %-8.8g %8s %d %i"
	is laggy when navigating
	my folder_format="%2C %t %?N?%3N&   ? %f"
	isn't laggy

folder_format expandos for numeric uid,gid
	{long-name} only
	need docs

browser, cache uid->string, gid->string in a HashTable

alias completion on ','
	<mail>name,
	when ',' is typed (unless quoted/escaped)
	check the previous clause for '@'
	No '@' => alias.  Expand the alias if possible
	if not, highlight it, e.g. red undercurl!
	`bind editor , complete` maybe
	which text does auto-complete get?
	how much text is it allowed to edit?

group info commands into tabs.  HOW?
	if user does `:set` then `:color` then `:hooks`
	rather than have three overlaid Pagers
	add a tab to the current display and focus it

docs:
	patterns
	Patterns in use:
	- `~` `.bcdefghi.klmn.p.rstuvwxyz`
	- `~` `ABCDEFGHI..LMNOPQRSTUV.XY.`
	- `~#` `~$` `~()` `~<()` `~=` `~>()`

	Misc in use:
	- Group matches - `%C` `%L` `%c` `%e` `%f`
	- IMAP matches  - `=/` `=B` `=b` `=h`

browser auto-tag behaviour -- need list of every Menu
	categorise how menu is used w.r.t. selection / tagging
	/home/mutt/work/keymaps-notes/m1

`neomutt -v` is repetitive
	NeoMutt comes with ABSOLUTELY NO WARRANTY; for details type 'neomutt -vv'.
	NeoMutt is free software, and you are welcome to redistribute it
	under certain conditions; type 'neomutt -vv' for details.
	----------------------------
	You can collapse this into a single, legally correct notice without losing meaning or tone. For example:

	> NeoMutt is free software, provided without any warranty.
	> You may redistribute it under certain conditions; run `neomutt -vv` for details.

	If you want it even tighter and more "version-banner" appropriate:

	> NeoMutt is free software, provided without warranty; see `neomutt -vv` for details.

	Or, keeping the emphatic GNU wording but avoiding repetition:

	> NeoMutt is free software, provided ABSOLUTELY WITHOUT WARRANTY;
	> see `neomutt -vv` for redistribution details.

	All three remove the duplicated `-vv` reference and merge the warranty and redistribution statements while remaining consistent with standard GPL-style notices.

deprecate
	virtual-mailboxes
	unvirtual-mailboxes
	virtual_spoolfile
	OP_SIDEBAR_TOGGLE_VIRTUAL

Change to use the pager?
	`:attachments ?`

squash 'for' branches

compose
	mutt_make_multipart()
	mutt_remove_multipart()

Editor
	<space> test FR_UNKNOWN for literal space
		NOPE
		FR_NOACTION works
	make FR_UNKNOWN conditional on having Maiboxes
	if a macro/push puts "apple banana" (with a space) into the queue
	then <mailbox-cycle> shouldn't be triggered
	<mailbox-cycle> should only happen in *interactive* sessions
	what is <complete-query> doing in OpEditor?
	custom completion should be added by caller.  HOW?

file perms, use, rather than 0600, etc
	S_IRWXU  00700 user (file owner) has read, write, and execute permission
	S_IRUSR  00400 user has read permission
	S_IWUSR  00200 user has write permission
	S_IXUSR  00100 user has execute permission
	S_IRWXG  00070 group has read, write, and execute permission
	S_IRGRP  00040 group has read permission
	S_IWGRP  00020 group has write permission
	S_IXGRP  00010 group has execute permission
	S_IRWXO  00007 others have read, write, and execute permission
	S_IROTH  00004 others have read permission
	S_IWOTH  00002 others have write permission
	S_IXOTH  00001 others have execute permission

VIM: update syntax.rc
	after command renaming / synonym-ing

clang-tidy everything
	pick useful rules

sidebar is a Menu except that Menu doesn't have a grey pre-selection
Menu: rows, format string, selection, paging, limit/filter
Sidebar doesn't have %C(num) row numbers, no  12<enter> for navigation

docs: reference -> ref?
	or permanent redirect from
		(for permanent short urls)
	how	-> howto
	h	-> howto
	tut	-> tutorial
	t	-> tutorial
	exp	-> explanation
	x	-> explanation
	ref	-> reference
	r	-> reference
	ref/cfg	-> reference/config
	ref/cmd	-> reference/command
		etc

is $devel_security still referenced?
	still needed?

unmacro docs
	s/map/menu/g

tweak Quickhl colours

upgrade to Buffer: mutt_addr_cat()

:alias (no params) -> <alias-dialog>
	currently the function is index-only
	can it be run globally
	<alias-dialog> -> actions -> send message -> original place

:cd (no params) -> `cd $HOME`
need matching :pwd
	what does cd actually do / affect?
	status expando for $pwd

translation action
	âˆ€ push to [translate], run `msgcat --no-wrap`
	if there are any differences create a fixup commit
	does the action have the privs to commit?

move translation discussions into docs
	https://github.com/orgs/neomutt/discussions/categories/translators
	pin one entry linking everything

------------------------------------------------------------

Change all parse_*() function warning messages to include prototype, e.g.
	"color: too few arguments"
	"color [attrs] fg bg [regex [num]"
	link to web help page?
for :commands given with zero args
	if not valid, show usage
	:lua-console -> lua-console [show|hide|toggle|reset]
	or, if command can be used with zero args, allow :xyz? ('?' suffix)
	check all commands for compatibility
	show one-line help!
	trap ":command?<enter>" at parse phase, so each handler doesn't have to
	handlers will need to deal with ":command<enter>"

commands have both `-` (hyphen) and `_` (underscore)
	migrate to `-` (hyphen) and accept either (or none)

add a 'commands' page to `?` <help> with a one-liner description of each
	or :help <command>

fix numbering!
	enum CommandResult
	{
	MUTT_CMD_ERROR   = -1, ///< Error: Can't help the user
	MUTT_CMD_WARNING = -2, ///< Warning: Help given to the user
	MUTT_CMD_SUCCESS =  0, ///< Success: Command worked

prelude to [linear]
	âˆ€ commands and their global data

âˆ€ command - where do they store their data?

turn all "too (few|many) arguments" into command help with prototype

âˆ€ commands (that take min of 1 param)
	if (!MoreArgs(line))
	  return too_few_args(cmd); // MUTT_CMD_WARNING
	can be expanded to print the cmd help/prototype/etc
	NO.  âˆ€ "too few" or "too many" code paths

command parsing:
	consume_line() for if (OptGui), etc
	use up the line up to eol or `;`
	using parse_extract_token()

need links in "Configuration Commands" for
	lua, lua-source, echo, version, tag-formats, tag-transforms

refactor command parsing again...
	pure *parse* routine -- just doing arg splitting, etc
	returns a struct ParsedXCommand (might be trivial)
	this can be thoroughly tested
	a small 'doing' part that saves the result, sends notifications, etc
	can the parsing part be broken up and parts reused?
	parse_get_regex(line)
	hook code is highly repetitive

add folder-hook-late (once mailbox is open and index populated)

prefix for help pages could be an slist
	"file:///usr/share/doc/neomutt,http://neomutt.org/docs"

enum WarnArgCount
{
  WAC_TOO_FEW,         ///< Too few  arguments
  WAC_TOO_MANY,        ///< Too many arguments
};

enum CommandResult warn_arg_count(const struct Command *cmd, enum WarnArgCount count)
{
}

rc = warn_arg_count(cmd, WAC_TOO_FEW, err);

BufferPool
	memset() in buf_pool_get()
	rather than buf_pool_release()
	to avoid "Uncontrolled data used in path expression" false positives

command help missing <>s
	tag-transforms <tag> <transformed-string> { tag transformed-string ... }

command help, fix?
	mailboxes [[ -label <label> ] | -nolabel ] [[ -notify | -nonotify ] [ -poll | -nopoll ] <mailbox> ] [ ... ]
	mailboxes [[ -label <label> ] | -nolabel ] [ -notify | -nonotify ] [ -poll | -nopoll ] <mailbox> [ ... ]

config parsing
	deglobalise file stack (x includes y includes z)
	pass as a param to parsers
	use stack to show "backtrace" to error
	struct ListHead MuttrcStack

have ALL commands have data pointing to their *Module*
	handler function
		calls parser function -> struct CommandXData[]
		validates it
		saves it to the *Module* data
	no global variables
	all parses are testable

add AI dev docs to docs.neomutt.org

pygmentize create custom lexer for neomuttrc for website

revert browser fix in main
apply autosetup fix

create a way to have colour patterns applied dynamically
	~(X) => the THREAD of pattern X
	~(~m .) => the THREAD of the current message
		similar to <tag-thread> (Alt-t)
	~>(~m .) => Tag the message whose child is the current message
		i.e. tag my parent
	~>(~>(~m .)) => Tag my grand-parent
Using these sorts of patterns, you could dynamically:
	highlight the current thread (with a faint background colour)
	highlight the parent of the current message
	highlight the grand-parent of the current message
Would be useful to be able to invalidate individual Menu items
	targetted repainting
deep tree
	uncolor index *
	color index #ff8080 default "~>(~m .)
	color index #ffff80 default "~>(~>(~m .))"
	color index #ff80ff default "~>(~>(~>(~m .))")
	color index #80ffff default "~>(~>(~>(~>(~m .))))"
	color index #8080ff default "~>(~>(~>(~>(~>(~m .)))))"
	color index #80ff80 default "~>(~>(~>(~>(~>(~>(~m .))))))"

